(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-518e92ea"],{5319:function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),o=r("7b0b"),i=r("50c4"),s=r("a691"),c=r("1d80"),l=r("8aa5"),u=r("14c3"),d=Math.max,f=Math.min,p=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){return[function(r,n){var a=c(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,a,n):t.call(String(a),r,n)},function(e,o){if(n.REPLACE_KEEPS_$0||"string"===typeof o&&-1===o.indexOf("$0")){var c=r(t,e,this,o);if(c.done)return c.value}var p=a(e),m=String(this),v="function"===typeof o;v||(o=String(o));var b=p.global;if(b){var w=p.unicode;p.lastIndex=0}var y=[];while(1){var P=u(p,m);if(null===P)break;if(y.push(P),!b)break;var x=String(P[0]);""===x&&(p.lastIndex=l(m,i(p.lastIndex),w))}for(var k="",C=0,O=0;O<y.length;O++){P=y[O];for(var _=String(P[0]),E=d(f(s(P.index),m.length),0),j=[],$=1;$<P.length;$++)j.push(g(P[$]));var A=P.groups;if(v){var S=[_].concat(j,E,m);void 0!==A&&S.push(A);var R=String(o.apply(void 0,S))}else R=h(_,m,E,j,A,o);E>=C&&(k+=m.slice(C,E)+R,C=E+_.length)}return k+m.slice(C)}];function h(e,r,n,a,i,s){var c=n+e.length,l=a.length,u=v;return void 0!==i&&(i=o(i),u=m),t.call(s,u,(function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":s=i[o.slice(1,-1)];break;default:var u=+o;if(0===u)return t;if(u>l){var d=p(u/10);return 0===d?t:d<=l?void 0===a[d-1]?o.charAt(1):a[d-1]+o.charAt(1):t}s=a[u-1]}return void 0===s?"":s}))}}))},6547:function(e,t,r){var n=r("a691"),a=r("1d80"),o=function(e){return function(t,r){var o,i,s=String(a(t)),c=n(r),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c),o<55296||o>56319||c+1===l||(i=s.charCodeAt(c+1))<56320||i>57343?e?s.charAt(c):o:e?s.slice(c,c+2):i-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"99af":function(e,t,r){"use strict";var n=r("23e7"),a=r("d039"),o=r("e8b5"),i=r("861d"),s=r("7b0b"),c=r("50c4"),l=r("8418"),u=r("65f0"),d=r("1dde"),f=r("b622"),p=r("60ae"),m=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",h=p>=51||!a((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),b=d("concat"),w=function(e){if(!i(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)},y=!h||!b;n({target:"Array",proto:!0,forced:y},{concat:function(e){var t,r,n,a,o,i=s(this),d=u(i,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?i:arguments[t],w(o)){if(a=c(o.length),f+a>v)throw TypeError(g);for(r=0;r<a;r++,f++)r in o&&l(d,f,o[r])}else{if(f>=v)throw TypeError(g);l(d,f++,o)}return d.length=f,d}})},"9a28":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"site-section"},[r("div",{staticClass:"container"},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-md-10 mb-5 mb-md-0"},[r("h2",{staticClass:"h3 mb-3 text-black font-heading-serif"},[e._v("프로필")]),r("div",{staticClass:"p-3 p-lg-5 border"},[r("div",{staticClass:"form-group"},[r("label",{staticClass:"text-black",attrs:{for:"c_country"}},[e._v("사용자 ID ")]),r("input",{staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:""+this.userId}})]),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-md-12"},[r("label",{staticClass:"text-black",attrs:{for:"c_lname"}},[e._v("비밀번호 변경")]),r("div",{staticClass:"input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newProfile.currentPwd,expression:"newProfile.currentPwd"}],ref:"currentPwd",staticClass:"form-control",attrs:{type:"password",placeholder:"현재 비밀번호를 입력해 주세요","aria-label":"Coupon Code","aria-describedby":"button-addon2"},domProps:{value:e.newProfile.currentPwd},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.modifyPwd(t)},input:function(t){t.target.composing||e.$set(e.newProfile,"currentPwd",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newProfile.pwd,expression:"newProfile.pwd"}],ref:"newPwd",staticClass:"form-control",attrs:{type:"password",placeholder:"새 비밀번호를 입력해 주세요","aria-label":"Coupon Code","aria-describedby":"button-addon2"},domProps:{value:e.newProfile.pwd},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.modifyPwd(t)},input:function(t){t.target.composing||e.$set(e.newProfile,"pwd",t.target.value)}}}),r("div",{staticClass:"input-group-append"},[r("button",{staticClass:"btn btn-primary btn-sm rounded px-4",attrs:{type:"button",id:"button-addon2"},on:{click:e.modifyPwd}},[e._v("변경")])])])])]),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-md-12"},[r("label",{staticClass:"text-black",attrs:{for:"c_fname"}},[e._v("이메일")]),r("input",{staticClass:"form-control",attrs:{type:"text",id:"c_fname",name:"c_fname",disabled:""},domProps:{value:""+e.currentEmail}})])]),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-md-12"},[r("label",{staticClass:"text-black",attrs:{for:"c_lname"}},[e._v("이메일 변경")]),r("div",{staticClass:"input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newProfile.email,expression:"newProfile.email"}],ref:"email",staticClass:"form-control",attrs:{type:"text",id:"c_code",placeholder:"새 이메일 주소를 입력해 주세요","aria-label":"Coupon Code","aria-describedby":"button-addon2",maxlength:"50"},domProps:{value:e.newProfile.email},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.modifyEmail(t)},input:function(t){t.target.composing||e.$set(e.newProfile,"email",t.target.value)}}}),r("div",{staticClass:"input-group-append"},[r("button",{staticClass:"btn btn-primary btn-sm rounded px-4",attrs:{type:"button",id:"button-addon2"},on:{click:e.modifyEmail}},[e._v("변경")])])])])]),r("div",{staticClass:"input-group-append justify-content-center"},[r("button",{staticClass:"btn btn-danger btn-sm rounded px-4",attrs:{type:"button",id:"button-addon2"},on:{click:e.deleteAccount}},[e._v("회원 탈퇴")])]),e.errors?r("div",{staticClass:"col-md-12 alert alert-danger text-center",staticStyle:{"margin-top":"1rem"},attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" ")]):e._e()])])])])])},a=[],o=(r("a4d3"),r("99af"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("ac1f"),r("5319"),r("159b"),r("ade3")),i=(r("96cf"),r("1da1")),s=r("c0d6"),c=r("bc3a"),l=r.n(c),u=r("2f62");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={name:"profile",data:function(){return{errors:"",message:"",newProfile:{email:"",pwd:"",currentPwd:""},currentEmail:""}},methods:{notError:function(){this.errors=!1,this.message=""},error:function(e){this.errors=!0,this.message=e},getProfile:function(){var e=this;Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=s["a"].getters.getId,console.log("created에서 id 확인",r),t.next=5,l.a.post("".concat(s["a"].state.url,"/users/profile"),{id:r});case 5:n=t.sent,a=n.data,o=a.code,i=a.message,c=a.email,console.log("프로필 요청결과",n),200===o?e.currentEmail=c:alert(i),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},notLogin:function(){return alert("로그인 되어있지 않습니다. 다시 로그인 해주세요."),this.$router.push({name:"login"}),!1},checkEmail:function(){if(this.newProfile.email){var e=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i,t=e.test(this.newProfile.email.replace(/(\s*)/g,""));if(t)return this.notError(),!0;var r="이메일 형식을 확인해 주세요.";return this.error(r),this.$refs.email.focus(),!1}var n="변경할 이메일 주소를 입력해주세요";return this.error(n),this.$refs.email.focus(),null},modifyEmail:function(){var e=this,t=this.checkEmail();if(!t)return!1;Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].dispatch("auth");case 3:if(r=s["a"].getters.getloginState,r){t.next=6;break}return t.abrupt("return",e.notLogin());case 6:return e.newProfile.id=s["a"].getters.getId,t.next=9,e.$axios.patch("".concat(e.url,"/users/modify/").concat(e.id,"?type=e"),e.newProfile);case 9:n=t.sent,a=n.data,o=a.code,i=a.message,200===o?(alert(i),e.newProfile.email="",e.getProfile(),e.notError()):e.error(i),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},checkPwd:function(){if(this.newProfile.currentPwd&&this.newProfile.pwd)return this.notError(),!0;var e="비밀번호를 입력해 주세요.";return this.error(e),!1},modifyPwd:function(){var e=this,t=this.checkPwd();if(!t)return!1;Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].dispatch("auth");case 3:if(r=s["a"].getters.getloginState,r){t.next=6;break}return t.abrupt("return",e.notLogin());case 6:return t.next=8,e.$axios.patch("".concat(e.url,"/users/modify/").concat(e.id,"?type=p"),e.newProfile);case 8:n=t.sent,console.log(n),a=n.data,o=a.code,i=a.message,200===o?(e.newProfile.currentPwd="",e.newProfile.pwd="",alert(i),e.notError()):e.error(i),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},deleteAccount:function(){var e=this,t=confirm("탈퇴하시면 계정을 복구하실 수 없습니다. 정말 탈퇴하시겠습니까?");if(!t)return!1;Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].dispatch("auth");case 3:if(r=s["a"].getters.getloginState,r){t.next=6;break}return t.abrupt("return",e.notLogin());case 6:return t.next=8,e.$axios.delete("".concat(e.url,"/users/deleteAccount/").concat(e.id));case 8:n=t.sent,a=n.data,o=a.code,i=a.message,200===o?(alert(i),s["a"].commit("logout"),e.$router.push({name:"main"})):e.error(i),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()}},computed:f({},Object(u["c"])(["id","userId","url"])),created:function(){this.getProfile()}},m=p,v=r("2877"),g=Object(v["a"])(m,n,a,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-518e92ea.6d97b0ec.js.map