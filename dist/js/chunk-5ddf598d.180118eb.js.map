{"version":3,"sources":["webpack:///./src/components/Facebook.vue?65e4","webpack:///src/components/Facebook.vue","webpack:///./src/components/Facebook.vue?664d","webpack:///./src/components/Facebook.vue","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","checkLoginState","_v","staticRenderFns","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,oCAAoCC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQR,EAAIS,kBAAkB,CAACT,EAAIU,GAAG,iBAClQC,EAAkB,GCStB,G,UAAA,CACE,QAAF,CACI,gBAAJ,WAEM,GAAN,4BAGQ,GAAR,uBAIU,IAAV,6BACA,wBACU,QAAV,gBACU,QAAV,iBAGU,IAAV,qCAEU,GAAV,mBAEY,QAAZ,OACY,QAAZ,gBACY,QAAZ,oBACY,QAAZ,sBACY,QAAZ,mCAEA,eACc,MAAd,oCAOA,CAAY,MAAZ,QAAY,eAAZ,SASU,GAAV,mBAEY,GAAZ,gBAGc,IAAd,qCAEc,GAAd,mBAEgB,QAAhB,OACgB,QAAhB,gBACgB,QAAhB,oBACgB,QAAhB,sBACgB,QAAhB,mCAEgB,EAAhB,0BACgB,EAAhB,6BACgB,EAAhB,2BACgB,EAAhB,yCAEA,gBACkB,MAAlB,mCACkB,SAAlB,8BAUc,QAAd,0DAEA,CAAY,MAAZ,QAAY,eAAZ,OAKM,GAAN,4BACQ,QAAR,YAME,QAAF,WAEI,OAAJ,uBACM,GAAN,MACQ,MAAR,mBACQ,OAAR,EACQ,QAAR,UASI,SAAJ,OACM,IAAN,iCACM,MAAN,SACM,QAAN,cACA,sBACM,EAAN,mBAAM,EAAN,KACM,EAAN,0CACM,EAAN,8BAPI,CAQJ,uCC3HkV,I,YCO9UC,EAAY,eACd,EACAb,EACAY,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,8BClBf,IAAIC,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,QAIPT,GAAiBS,KAAQN,GAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAKxB,MAAMyB,MAAML,GAAQ,GAC1D,MAAOM,GACP,MAAO","file":"js/chunk-5ddf598d.180118eb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"site-section\"},[_c('button',{staticClass:\"btn btn-info block full-width m-b\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.checkLoginState}},[_vm._v(\"Facebook\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n<template>\r\n    <div class=\"site-section\">\r\n        <button type=\"button\"  v-on:click=\"checkLoginState\"  class=\"btn btn-info block full-width m-b\">Facebook</button>\r\n    </div>    \r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-undef */\r\n/* eslint-disable no-unused-vars */\r\n  export default {\r\n      methods:{\r\n          checkLoginState:function(){\r\n    \r\n            FB.getLoginStatus(function (response) {\r\n\r\n                // 이미 페이스북에 로그인 된 상태인경우\r\n                if (response.status == 'connected') {\r\n                    \r\n                    //alert(\"connected\");\r\n\r\n                    var token = response.authResponse.accessToken;\r\n                    var fbUserID = response.authResponse.userID;\r\n                    console.log(\"Token:\" + token);\r\n                    console.log(\"UserID:\" + fbUserID);\r\n\r\n                    //페이스북 로그인 사용자 정보 조회\r\n                    var meURL = '/me?fields=id,name,email,picture';\r\n\r\n                    FB.api(meURL, function (response) {\r\n\r\n                        console.log(response);\r\n                        console.log('id:' + response.id);\r\n                        console.log('name:' + response.name);\r\n                        console.log('email:' + response.email);\r\n                        console.log('picture:' + response.picture.data.url);\r\n                \r\n                        if (response.email == null) {\r\n                            alert(\"이메일 주소 정보가 전달되지 않아 로그인이 불가합니다.\");\r\n                        } \r\n                        else \r\n                        {\r\n                            \r\n                            //사용자 시스템 회원가입 및 로그인 처리\r\n                        }\r\n                    }, { scope: 'email', return_scopes: true });\r\n\r\n                } \r\n                else \r\n                {\r\n\r\n                    //alert(\"not yet connected\");\r\n\r\n                    //페북 비로그인상태이거나 TTD 미가입자인경우 로그인유도 후 데이터처리\r\n                    FB.login(function (response) {\r\n\r\n                        if (response.authResponse) {\r\n                            \r\n                \r\n                            var meURL = '/me?fields=id,name,email,picture';\r\n\r\n                            FB.api(meURL, function (response) {\r\n                                // 로그인 후에 이용자 정보가 넘어오는지 확인\r\n                            console.log(response);\r\n                            console.log('id:' + response.id);\r\n                            console.log('name:' + response.name);\r\n                            console.log('email:' + response.email);\r\n                            console.log('picture:' + response.picture.data.url);\r\n                            \r\n                                $(\"#hidLoginType\").val(\"F\");\r\n                                $(\"#hidSNSEmail\").val(response.email);\r\n                                $(\"#hidSNSName\").val(response.name);\r\n                                $(\"#hidSNSImgURL\").val(response.picture.data.url);\r\n\r\n                                if (response.email == null) {\r\n                                    alert(\"이메일 주소 정보가 전달되지 않아 회원가입이 불가합니다.\");\r\n                                    location.href = \"/member/login\";\r\n                                } else {\r\n                                    //사용자 시스템 회원가입 및 로그인 처리\r\n                                }\r\n\r\n                            });\r\n\r\n                        } \r\n                        else \r\n                        {\r\n                            console.log('User cancelled login or did not fully authorize.');\r\n                        }\r\n                    }, { scope: 'email', return_scopes: true });\r\n                }\r\n            \r\n            });\r\n            // 코드 위치 수정 테스트: 삭제하기\r\n               FB.getLoginStatus(function(response) {\r\n            console.log(response);\r\n        });\r\n\r\n          }\r\n      },\r\n\r\n      created: function() {\r\n        // 페이스북 인증 초기설정  \r\n        window.fbAsyncInit = function() {\r\n        FB.init({\r\n            appId      : '2529159693995093',\r\n            xfbml      : true,\r\n            version    : 'v2.7'\r\n        });\r\n\r\n        // FB.getLoginStatus(function(response) {\r\n        //     console.log(response);\r\n        // });\r\n\r\n    };\r\n\r\n        (function(d, s, id){\r\n        var js, fjs = d.getElementsByTagName(s)[0];\r\n        alert('js='+js);\r\n        console.log('fjs='+fjs);\r\n        if (d.getElementById(id)) {return;}\r\n        js = d.createElement(s); js.id = id;\r\n        js.src = \"//connect.facebook.net/en_US/sdk.js\";\r\n        fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'facebook-jssdk'));\r\n        // this.checkLoginState();\r\n  }\r\n\r\n\r\n  }\r\n\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Facebook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Facebook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Facebook.vue?vue&type=template&id=73fb73fe&\"\nimport script from \"./Facebook.vue?vue&type=script&lang=js&\"\nexport * from \"./Facebook.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}