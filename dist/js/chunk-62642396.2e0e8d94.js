(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62642396"],{2614:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"site-section mt-5"},[a("div",{staticClass:"container"},[a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleCaptions","data-ride":"carousel"}},[t._m(0),a("div",{staticClass:"carousel-inner"},[a("div",{staticClass:"carousel-item active"},[a("router-link",{attrs:{to:{name:"category",params:{parent_id:1,child_id:1}}}},[a("img",{staticClass:"d-block w-100",attrs:{src:"/assets/images/vitamins.png",alt:"..."}})]),a("div",{staticClass:"carousel-caption d-none d-md-block"})],1),a("div",{staticClass:"carousel-item"},[a("router-link",{attrs:{to:{name:"category",params:{parent_id:2,child_id:1}}}},[a("img",{staticClass:"d-block w-100",attrs:{src:"/assets/images/pets.PNG",alt:"..."}})]),a("div",{staticClass:"carousel-caption d-none d-md-block"})],1),t._m(1)]),t._m(2),t._m(3)]),a("div",{staticClass:"row "},t._l(t.products,(function(e){return a("product",{key:e.id,attrs:{val:e,likeCount:t.like}})})),1)]),a("div",[t.count>12?a("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"button"},on:{click:t.more}},[t._v("더보기")]):t._e()])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{staticClass:"carousel-indicators"},[a("li",{staticClass:"active",attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"0"}}),a("li",{attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"1"}}),a("li",{attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"2"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"carousel-item"},[a("img",{staticClass:"d-block w-100",attrs:{src:"/assets/images/notification.PNG",alt:"..."}}),a("div",{staticClass:"carousel-caption d-none d-md-block"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleCaptions",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleCaptions",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])}],s=(a("a4d3"),a("99af"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),i=(a("96cf"),a("1da1")),c=a("c0d6"),o=a("2f62"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-lg-3 mb-5 col-md-6"},[t._v(" 확인 "+t._s(t.val.id)+" 클릭했던건지 확인: "+t._s(t.liked)+" "),a("div",{staticClass:"wine_v_1 text-center pb-4"},[a("router-link",{staticClass:"thumbnail d-block mb-4",attrs:{to:{name:"detail",params:{id:t.val.id}}}},[a("img",{staticClass:"img-fluid custom-img",attrs:{src:t.path+"/"+t.val.product_image,alt:"Image"},on:{load:t.loaded}}),a("div",[a("h3",{staticClass:"heading mb-1"},[a("label",{staticClass:"text-black",staticStyle:{cursor:"pointer"}},[t._v(t._s(t.val.product_name))])])])]),a("div",[t._v(" 확인:"+t._s(t.val.like)+" "),a("h3",{staticClass:"heading-2"},[a("label",{staticClass:"pointer"},[t._v(t._s(t.val.product_name))])]),a("span",{attrs:{onclick:"return false;"},on:{click:function(e){return t.like(t.val.id)}}},[a("i",{staticClass:"far fa-thumbs-up pointer",class:{like:t.liked},attrs:{"aria-hidden":"true"}})]),a("span",{staticClass:"price pointer ml-1",on:{click:function(e){return t.like(t.val.id)}}},[t._v(t._s(t.val.like_count))]),a("span",{staticClass:"ml-3",attrs:{onclick:"return false;"},on:{click:function(e){return t.dislike(t.val.id)}}},[a("i",{staticClass:"far fa-thumbs-down pointer",class:{dislike:t.disliked},attrs:{"aria-hidden":"true"}})]),a("span",{staticClass:"price ml-1 pointer",on:{click:function(e){return t.dislike(t.val.id)}}},[t._v(t._s(t.val.dislike_count))])])],1)])},u=[];function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={name:"Product",props:["val","likeCount"],data:function(){return{liked:!1,disliked:!1}},methods:{loaded:function(){this.isLoaded=!0},like:function(t){var e=this;Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,c["a"].dispatch("auth");case 2:if(r=c["a"].getters.getId,n=c["a"].getters.getSocketId,r){a.next=7;break}return e.$router.push({name:"login"}),a.abrupt("return",!1);case 7:r&&(e.disliked?alert("이미 좋아요/싫어요를 하셨습니다."):e.$productSocket.emit("like",n,r,t));case 8:case"end":return a.stop()}}),a)})))()},dislike:function(t){var e=this;Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,c["a"].dispatch("auth");case 2:if(r=c["a"].getters.getId,n=c["a"].getters.getSocketId,r){a.next=7;break}return e.$router.push({name:"login"}),a.abrupt("return",!1);case 7:r&&(e.liked?alert("이미 좋아요/싫어요를 하셨습니다."):e.$productSocket.emit("dislike",n,r,t));case 8:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this,e=c["a"].getters.getId;this.likeCount&&this.likeCount.forEach((function(e){e.productId==t.val.id&&(e.like_dislike?t.liked=!0:t.disliked=!0)})),this.$bus.$on("bus-event",(function(){console.log("이걸 확인해야 함")})),this.$productSocket.on("likeIncrease",(function(a,r,n){t.val.id==a&&(t.val.like_count=r),e===n&&a===t.val.id&&(t.liked=!0)})),this.$productSocket.on("likeDecrease",(function(a,r,n){t.val.id===a&&(t.val.like_count=r),e===n&&a===t.val.id&&(t.liked=!1)})),this.$productSocket.on("dislikeIncrease",(function(a,r,n){console.log("싫어요증가발생",a,r),t.val.id==a&&(t.val.dislike_count=r),e===n&&a===t.val.id&&(t.disliked=!0)})),this.$productSocket.on("dislikeDecrease",(function(a,r,n){t.val.id===a&&(t.val.dislike_count=r),e===n&&a===t.val.id&&(t.disliked=!1),console.log("확인!!!",e,n,t.selected)}))},computed:p({},Object(o["c"])(["url"]),{},Object(o["b"])({path:"productImagePath"})),destroyed:function(){console.log("뷰객체 파괴"),this.$productSocket.emit("disconnect")}},b=f,v=(a("e903"),a("2877")),m=Object(v["a"])(b,l,u,!1,null,null,null),k=m.exports;function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var _={name:"Main",data:function(){return{users:[],products:[],isLoaded:!1,offSet:0,count:0,like:[]}},components:{product:k},methods:{more:function(){var t=this;Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,n,s,i,o,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=c["a"].getters.getId,console.log("로그인확인!!",r),r){e.next=8;break}return e.next=5,t.$axios.get("".concat(t.url,"/products?offSet=").concat(t.offSet));case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,t.$axios.get("".concat(t.url,"/products?offSet=").concat(t.offSet,"&id=").concat(r));case 10:a=e.sent;case 11:if(console.log(a.data),n=a.data,s=n.code,i=n.message,o=a.data.products,l=o.rows,u=o.count,d=o.like,200!==s){e.next=27;break}if(!(l.length>0)){e.next=22;break}t.count=u,l.forEach((function(e){t.products.push(e)})),t.offSet++,t.like=d,e.next=25;break;case 22:if(!(l.length<1&&0!=u)){e.next=25;break}return alert("마지막 페이지입니다."),e.abrupt("return",!1);case 25:e.next=28;break;case 27:alert(i);case 28:case"end":return e.stop()}}),e)})))()}},created:function(){this.more()},computed:g({},Object(o["c"])(["url"]),{},Object(o["b"])({path:"productImagePath"})),beforeRouteEnter:function(t,e,a){Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].dispatch("auth");case 2:a();case 3:case"end":return t.stop()}}),t)})))()}},C=_,O=(a("c266"),Object(v["a"])(C,r,n,!1,null,null,null));e["default"]=O.exports},"3a7d":function(t,e,a){},"3f3b":function(t,e,a){},"99af":function(t,e,a){"use strict";var r=a("23e7"),n=a("d039"),s=a("e8b5"),i=a("861d"),c=a("7b0b"),o=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),f=a("60ae"),b=p("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",k=f>=51||!n((function(){var t=[];return t[b]=!1,t.concat()[0]!==t})),h=d("concat"),g=function(t){if(!i(t))return!1;var e=t[b];return void 0!==e?!!e:s(t)},_=!k||!h;r({target:"Array",proto:!0,forced:_},{concat:function(t){var e,a,r,n,s,i=c(this),d=u(i,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(s=-1===e?i:arguments[e],g(s)){if(n=o(s.length),p+n>v)throw TypeError(m);for(a=0;a<n;a++,p++)a in s&&l(d,p,s[a])}else{if(p>=v)throw TypeError(m);l(d,p++,s)}return d.length=p,d}})},c266:function(t,e,a){"use strict";var r=a("3a7d"),n=a.n(r);n.a},e903:function(t,e,a){"use strict";var r=a("3f3b"),n=a.n(r);n.a}}]);
//# sourceMappingURL=chunk-62642396.2e0e8d94.js.map